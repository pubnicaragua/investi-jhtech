{"ast":null,"code":"import { supabase } from \"./supabase\";\nexport const signUp = async (email, password, userData) => {\n  return signUpWithMetadata(email, password, userData);\n};\nexport const signUpWithMetadata = async (email, password, userData) => {\n  const {\n    data,\n    error\n  } = await supabase.auth.signUp({\n    email,\n    password,\n    options: {\n      data: {\n        full_name: userData?.nombre || userData?.full_name || 'Usuario',\n        username: userData?.username || `user_${Date.now()}`,\n        avatar_url: userData?.avatar_url || userData?.photo_url\n      },\n      emailRedirectTo: `${window.location.origin}/auth/callback`\n    }\n  });\n  if (error) throw error;\n  if (data.user) {\n    const userPayload = {\n      id: data.user.id,\n      email: data.user.email,\n      nombre: userData?.nombre || userData?.full_name || 'Usuario',\n      username: userData?.username || `user_${Date.now()}`,\n      photo_url: userData?.photo_url || userData?.avatar_url,\n      full_name: userData?.full_name || userData?.nombre || 'Usuario',\n      avatar_url: userData?.avatar_url || userData?.photo_url,\n      bio: userData?.bio || '',\n      pais: userData?.pais || '',\n      role: userData?.role || 'usuario'\n    };\n    const {\n      error: profileError\n    } = await supabase.from(\"users\").upsert(userPayload, {\n      onConflict: 'id'\n    });\n    if (profileError) {\n      console.error('Error creating user profile:', profileError);\n      throw profileError;\n    }\n    try {\n      await supabase.from('investor_profiles').upsert({\n        user_id: data.user.id,\n        experience_level: 'beginner',\n        investment_goals: [],\n        risk_tolerance: 'medium',\n        preferred_investments: [],\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      });\n    } catch (profileError) {\n      console.error('Error creating investor profile:', profileError);\n    }\n  }\n  return data;\n};\nexport const signIn = async (email, password) => {\n  const {\n    data,\n    error\n  } = await supabase.auth.signInWithPassword({\n    email,\n    password\n  });\n  if (error) throw error;\n  return data;\n};\nexport const getUser = async uid => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"users\").select(\"*\").eq(\"id\", uid).single();\n  if (error) throw error;\n  return data;\n};\nexport const updateUser = async (uid, updates) => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"users\").update(updates).eq(\"id\", uid);\n  if (error) throw error;\n  return data;\n};\nexport const getCurrentUserId = async () => {\n  const {\n    data: {\n      user\n    }\n  } = await supabase.auth.getUser();\n  return user?.id || null;\n};\nexport const getCurrentUser = async () => {\n  const {\n    data: {\n      user\n    }\n  } = await supabase.auth.getUser();\n  if (!user) return null;\n  return await getUser(user.id);\n};\nexport const getUserComplete = async uid => {\n  try {\n    const user = await getUser(uid);\n    if (!user) return null;\n    return {\n      id: user.id,\n      name: user.full_name || user.nombre,\n      email: user.email,\n      bio: user.bio,\n      location: user.pais,\n      avatarUrl: user.avatar_url || user.photo_url,\n      registrationDate: user.fecha_registro,\n      preferences: user.preferences || {\n        language: \"es\",\n        notifications: true,\n        theme: \"system\"\n      },\n      stats: user.stats || {\n        postsCount: 0,\n        followersCount: 0,\n        followingCount: 0\n      },\n      onboarding: {\n        interests: user.intereses || [],\n        goals: user.metas || [],\n        knowledgeLevel: user.nivel_finanzas,\n        completed: !!(user.metas?.length && user.intereses?.length && user.nivel_finanzas !== 'none')\n      }\n    };\n  } catch (error) {\n    console.error('Error getting complete user:', error);\n    return null;\n  }\n};\nexport const getUserFeed = async (userId, limit = 20) => {\n  try {\n    const {\n      data,\n      error\n    } = await supabase.rpc(\"get_personalized_feed\", {\n      p_user_id: userId,\n      p_limit: limit\n    });\n    if (error) throw error;\n    return data || [];\n  } catch (error) {\n    console.log(\"RPC failed, trying direct query:\", error);\n    const {\n      data,\n      error: fallbackError\n    } = await supabase.from(\"posts\").select(`  \n        *,  \n        author:users(id, nombre, full_name, username, photo_url, avatar_url, role)  \n      `).order(\"created_at\", {\n      ascending: false\n    }).limit(limit);\n    if (fallbackError) throw fallbackError;\n    return (data || []).map(post => Object.assign({}, post, {\n      user_data: {\n        name: post.author?.full_name || post.author?.nombre || 'Usuario',\n        avatar: post.author?.avatar_url || post.author?.photo_url,\n        role: post.author?.role || 'Usuario'\n      }\n    }));\n  }\n};\nexport const getCommunityList = async limit => {\n  let query = supabase.from(\"communities\").select(\"*\");\n  if (limit) {\n    query = query.limit(limit).order(\"created_at\", {\n      ascending: false\n    });\n  }\n  const {\n    data,\n    error\n  } = await query;\n  if (error) throw error;\n  return data || [];\n};\nexport const joinCommunity = async (userId, communityId) => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"user_communities\").insert([{\n    user_id: userId,\n    community_id: communityId\n  }]);\n  if (error) throw error;\n  return data;\n};\nexport const createPost = async postData => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"posts\").insert([postData]).select();\n  if (error) throw error;\n  return data?.[0];\n};\nexport const getPostDetail = async postId => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"posts\").select(`  \n      *,  \n      author:users(id, nombre, full_name, username, photo_url, avatar_url, role),  \n      comments(*)  \n    `).eq(\"id\", postId).single();\n  if (error) throw error;\n  return data;\n};\nexport const likePost = async (postId, userId, isLike = true) => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"post_likes\").upsert([{\n    post_id: postId,\n    user_id: userId,\n    is_like: isLike\n  }]);\n  if (error) throw error;\n  return data;\n};\nexport const commentPost = async (postId, userId, contenido, parentId) => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"comments\").insert([{\n    post_id: postId,\n    user_id: userId,\n    contenido,\n    parent_id: parentId\n  }]);\n  if (error) throw error;\n  return data;\n};\nexport const globalSearch = async (query, userId) => {\n  const {\n    data,\n    error\n  } = await supabase.rpc(\"search_all\", {\n    search_term: query,\n    current_user_id: userId\n  });\n  if (error) throw error;\n  return data || [];\n};\nexport const getNewsList = async category => {\n  let query = supabase.from(\"news\").select(`  \n      *,  \n      author:users(id, nombre, full_name, username, photo_url, avatar_url)  \n    `).order(\"published_at\", {\n    ascending: false\n  });\n  if (category) {\n    query = query.eq(\"category\", category);\n  }\n  const {\n    data,\n    error\n  } = await query;\n  if (error) throw error;\n  return data || [];\n};\nexport const getNewsDetail = async newsId => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"news\").select(`  \n      *,  \n      author:users(id, nombre, full_name, username, photo_url, avatar_url)  \n    `).eq(\"id\", newsId).single();\n  if (error) throw error;\n  return data;\n};\nexport const uploadAvatar = async (userId, file) => {\n  const fileExt = file.uri.split(\".\").pop();\n  const fileName = `${userId}/avatar.${fileExt}`;\n  const {\n    data,\n    error\n  } = await supabase.storage.from(\"avatars\").upload(fileName, file, {\n    upsert: true\n  });\n  if (error) throw error;\n  const {\n    data: {\n      publicUrl\n    }\n  } = supabase.storage.from(\"avatars\").getPublicUrl(fileName);\n  return {\n    url: publicUrl,\n    path: fileName\n  };\n};\nexport const uploadPostMedia = async (userId, file) => {\n  const fileExt = file.uri.split(\".\").pop();\n  const fileName = `${userId}/${Date.now()}.${fileExt}`;\n  const {\n    data,\n    error\n  } = await supabase.storage.from(\"post-media\").upload(fileName, file);\n  if (error) throw error;\n  const {\n    data: {\n      publicUrl\n    }\n  } = supabase.storage.from(\"post-media\").getPublicUrl(fileName);\n  return {\n    url: publicUrl,\n    path: fileName\n  };\n};\nexport const blockUser = async (userId, blockedUserId) => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"user_blocks\").insert([{\n    user_id: userId,\n    blocked_user_id: blockedUserId\n  }]);\n  if (error) throw error;\n  return data;\n};\nexport const getNotifications = async userId => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"notifications\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n    ascending: false\n  });\n  if (error) throw error;\n  return data || [];\n};\nexport const markNotificationAsRead = async notificationId => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"notifications\").update({\n    read: true,\n    read_at: new Date().toISOString()\n  }).eq(\"id\", notificationId);\n  if (error) throw error;\n  return data;\n};\nexport const getFAQs = async () => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"faqs\").select(\"*\").order(\"created_at\", {\n    ascending: true\n  });\n  if (error) throw error;\n  return data || [];\n};\nexport const getGlossaryTerms = async () => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"glossary\").select(\"*\").order(\"termino\", {\n    ascending: true\n  });\n  if (error) throw error;\n  return data || [];\n};\nexport const getOnboardingData = async () => {\n  try {\n    const [interests, goals, knowledgeLevels] = await Promise.all([supabase.from(\"interests\").select(\"*\").order(\"name\", {\n      ascending: true\n    }), supabase.from(\"goals\").select(\"*\").order(\"name\", {\n      ascending: true\n    }), supabase.from(\"knowledge_levels\").select(\"*\").order(\"level_order\", {\n      ascending: true\n    })]);\n    return {\n      interests: interests.data || [],\n      goals: goals.data || [],\n      knowledgeLevels: knowledgeLevels.data || []\n    };\n  } catch (error) {\n    console.error('Error loading onboarding data:', error);\n    return {\n      interests: [],\n      goals: [],\n      knowledgeLevels: []\n    };\n  }\n};\nexport const completeOnboarding = async (userId, onboardingData) => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"users\").update({\n    intereses: onboardingData.interests,\n    metas: onboardingData.goals,\n    nivel_finanzas: onboardingData.knowledgeLevel\n  }).eq(\"id\", userId);\n  if (error) throw error;\n  return data;\n};\nexport const getPromotions = async params => {\n  try {\n    const limit = params?.limit || 10;\n    const offset = ((params?.page || 1) - 1) * limit;\n    const {\n      data,\n      error\n    } = await supabase.from(\"promotions\").select(\"*\").eq(\"active\", true).order(\"created_at\", {\n      ascending: false\n    }).range(offset, offset + limit - 1);\n    if (error) throw error;\n    return {\n      data: data || [],\n      meta: {\n        hasMore: data?.length === limit\n      }\n    };\n  } catch (error) {\n    console.error('Error loading promotions:', error);\n    return {\n      data: [],\n      meta: {\n        hasMore: false\n      }\n    };\n  }\n};\nexport const getCoursesWithLessons = async () => {\n  try {\n    const {\n      data,\n      error\n    } = await supabase.from(\"courses\").select(`  \n        *,  \n        modules:course_modules(  \n          *,  \n          lessons(*)  \n        )  \n      `).order(\"created_at\", {\n      ascending: false\n    });\n    if (error) throw error;\n    return data || [];\n  } catch (error) {\n    console.error('Error loading courses:', error);\n    return [];\n  }\n};\nexport const completeLesson = async (userId, lessonId) => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"lesson_progress\").insert([{\n    user_id: userId,\n    lesson_id: lessonId\n  }]);\n  if (error) throw error;\n  return data;\n};\nexport const getPortfolio = async userId => {\n  try {\n    const {\n      data,\n      error\n    } = await supabase.from(\"simulated_portfolios\").select(`  \n        *,  \n        investments:simulated_investments(*)  \n      `).eq(\"user_id\", userId).single();\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error loading portfolio:', error);\n    return null;\n  }\n};\nexport const addInvestment = async investmentData => {\n  const {\n    data,\n    error\n  } = await supabase.from(\"simulated_investments\").insert([investmentData]);\n  if (error) throw error;\n  return data;\n};","map":{"version":3,"names":["supabase","signUp","email","password","userData","signUpWithMetadata","data","error","auth","options","full_name","nombre","username","Date","now","avatar_url","photo_url","emailRedirectTo","window","location","origin","user","userPayload","id","bio","pais","role","profileError","from","upsert","onConflict","console","user_id","experience_level","investment_goals","risk_tolerance","preferred_investments","created_at","toISOString","updated_at","signIn","signInWithPassword","getUser","uid","select","eq","single","updateUser","updates","update","getCurrentUserId","getCurrentUser","getUserComplete","name","avatarUrl","registrationDate","fecha_registro","preferences","language","notifications","theme","stats","postsCount","followersCount","followingCount","onboarding","interests","intereses","goals","metas","knowledgeLevel","nivel_finanzas","completed","length","getUserFeed","userId","limit","rpc","p_user_id","p_limit","log","fallbackError","order","ascending","map","post","Object","assign","user_data","author","avatar","getCommunityList","query","joinCommunity","communityId","insert","community_id","createPost","postData","getPostDetail","postId","likePost","isLike","post_id","is_like","commentPost","contenido","parentId","parent_id","globalSearch","search_term","current_user_id","getNewsList","category","getNewsDetail","newsId","uploadAvatar","file","fileExt","uri","split","pop","fileName","storage","upload","publicUrl","getPublicUrl","url","path","uploadPostMedia","blockUser","blockedUserId","blocked_user_id","getNotifications","markNotificationAsRead","notificationId","read","read_at","getFAQs","getGlossaryTerms","getOnboardingData","knowledgeLevels","Promise","all","completeOnboarding","onboardingData","getPromotions","params","offset","page","range","meta","hasMore","getCoursesWithLessons","completeLesson","lessonId","lesson_id","getPortfolio","addInvestment","investmentData"],"sources":["C:/Users/invit/Downloads/investi-app/src/api.ts"],"sourcesContent":["import { supabase } from \"./supabase\"  \n  \n// ===== AUTH FUNCTIONS =====  \nexport const signUp = async (email: string, password: string, userData?: any) => {  \n  return signUpWithMetadata(email, password, userData)\n}\n\nexport const signUpWithMetadata = async (email: string, password: string, userData?: any) => {  \n  const { data, error } = await supabase.auth.signUp({  \n    email,  \n    password,  \n    options: {\n      data: {\n        full_name: userData?.nombre || userData?.full_name || 'Usuario',\n        username: userData?.username || `user_${Date.now()}`,\n        avatar_url: userData?.avatar_url || userData?.photo_url,\n      },\n      emailRedirectTo: `${window.location.origin}/auth/callback`,\n    },\n  })  \n  \n  if (error) throw error  \n  \n  if (data.user) {  \n    const userPayload = {\n      id: data.user.id,  \n      email: data.user.email,\n      nombre: userData?.nombre || userData?.full_name || 'Usuario',\n      username: userData?.username || `user_${Date.now()}`,\n      photo_url: userData?.photo_url || userData?.avatar_url,\n      full_name: userData?.full_name || userData?.nombre || 'Usuario',\n      avatar_url: userData?.avatar_url || userData?.photo_url,\n      bio: userData?.bio || '',\n      pais: userData?.pais || '',\n      role: userData?.role || 'usuario'\n    };\n\n    const { error: profileError } = await supabase\n      .from(\"users\")\n      .upsert(userPayload, { onConflict: 'id' });\n  \n    if (profileError) {\n      console.error('Error creating user profile:', profileError);\n      throw profileError;\n    }\n\n    // Create default investor profile\n    try {\n      await supabase.from('investor_profiles').upsert({\n        user_id: data.user.id,\n        experience_level: 'beginner',\n        investment_goals: [],\n        risk_tolerance: 'medium',\n        preferred_investments: [],\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString(),\n      });\n    } catch (profileError) {\n      console.error('Error creating investor profile:', profileError);\n      // Don't fail signup if investor profile creation fails\n    }\n  }  \n  \n  return data;  \n}  \n  \nexport const signIn = async (email: string, password: string) => {  \n  const { data, error } = await supabase.auth.signInWithPassword({  \n    email,  \n    password,  \n  })  \n  \n  if (error) throw error  \n  return data  \n}  \n  \n// ===== USER FUNCTIONS =====  \nexport const getUser = async (uid: string) => {  \n  const { data, error } = await supabase.from(\"users\").select(\"*\").eq(\"id\", uid).single()  \n  if (error) throw error  \n  return data  \n}  \n  \nexport const updateUser = async (uid: string, updates: any) => {  \n  const { data, error } = await supabase.from(\"users\").update(updates).eq(\"id\", uid)  \n  if (error) throw error  \n  return data  \n}  \n  \nexport const getCurrentUserId = async () => {  \n  const { data: { user } } = await supabase.auth.getUser()  \n  return user?.id || null  \n}  \n  \nexport const getCurrentUser = async () => {  \n  const { data: { user } } = await supabase.auth.getUser()  \n  if (!user) return null  \n  return await getUser(user.id)  \n}  \n  \n// FunciÃ³n faltante que causa el error  \nexport const getUserComplete = async (uid: string) => {  \n  try {  \n    const user = await getUser(uid)  \n    if (!user) return null  \n  \n    return {  \n      id: user.id,  \n      name: user.full_name || user.nombre,  \n      email: user.email,  \n      bio: user.bio,  \n      location: user.pais,  \n      avatarUrl: user.avatar_url || user.photo_url,  \n      registrationDate: user.fecha_registro,  \n      preferences: user.preferences || { language: \"es\", notifications: true, theme: \"system\" },  \n      stats: user.stats || { postsCount: 0, followersCount: 0, followingCount: 0 },  \n      onboarding: {  \n        interests: user.intereses || [],  \n        goals: user.metas || [],  \n        knowledgeLevel: user.nivel_finanzas,  \n        completed: !!(user.metas?.length && user.intereses?.length && user.nivel_finanzas !== 'none')  \n      }  \n    }  \n  } catch (error) {  \n    console.error('Error getting complete user:', error)  \n    return null  \n  }  \n}  \n  \n// ===== FEED FUNCTIONS =====  \nexport const getUserFeed = async (userId: string, limit = 20) => {  \n  try {  \n    // Usar get_personalized_feed que ya tienes  \n    const { data, error } = await supabase.rpc(\"get_personalized_feed\", {  \n      p_user_id: userId,  \n      p_limit: limit,  \n    })  \n    if (error) throw error  \n    return data || []  \n  } catch (error) {  \n    console.log(\"RPC failed, trying direct query:\", error)  \n    // Fallback usando nombres de columna correctos  \n    const { data, error: fallbackError } = await supabase  \n      .from(\"posts\")  \n      .select(`  \n        *,  \n        author:users(id, nombre, full_name, username, photo_url, avatar_url, role)  \n      `)  \n      .order(\"created_at\", { ascending: false })  \n      .limit(limit)  \n  \n    if (fallbackError) throw fallbackError  \n    return (data || []).map((post: any) => ({  \n      ...post,  \n      user_data: {  \n        name: post.author?.full_name || post.author?.nombre || 'Usuario',  \n        avatar: post.author?.avatar_url || post.author?.photo_url,  \n        role: post.author?.role || 'Usuario'  \n      }  \n    }))  \n  }  \n}  \n  \n// ===== COMMUNITY FUNCTIONS =====  \nexport const getCommunityList = async (limit?: number) => {  \n  let query = supabase.from(\"communities\").select(\"*\")  \n    \n  if (limit) {  \n    query = query.limit(limit).order(\"created_at\", { ascending: false })  \n  }  \n    \n  const { data, error } = await query  \n  if (error) throw error  \n  return data || []  \n}  \n  \nexport const joinCommunity = async (userId: string, communityId: string) => {  \n  const { data, error } = await supabase  \n    .from(\"user_communities\")  \n    .insert([{ user_id: userId, community_id: communityId }])  \n  \n  if (error) throw error  \n  return data  \n}  \n  \n// ===== POST FUNCTIONS =====  \nexport const createPost = async (postData: {  \n  user_id: string  \n  community_id?: string  \n  contenido: string  \n  media_url?: string[]  \n}) => {  \n  const { data, error } = await supabase.from(\"posts\").insert([postData]).select()  \n  if (error) throw error  \n  return data?.[0]  \n}  \n  \nexport const getPostDetail = async (postId: string) => {  \n  const { data, error } = await supabase  \n    .from(\"posts\")  \n    .select(`  \n      *,  \n      author:users(id, nombre, full_name, username, photo_url, avatar_url, role),  \n      comments(*)  \n    `)  \n    .eq(\"id\", postId)  \n    .single()  \n  \n  if (error) throw error  \n  return data  \n}  \n  \nexport const likePost = async (postId: string, userId: string, isLike = true) => {  \n  const { data, error } = await supabase  \n    .from(\"post_likes\")  \n    .upsert([{ post_id: postId, user_id: userId, is_like: isLike }])  \n  \n  if (error) throw error  \n  return data  \n}  \n  \nexport const commentPost = async (postId: string, userId: string, contenido: string, parentId?: string) => {  \n  const { data, error } = await supabase  \n    .from(\"comments\")  \n    .insert([{ post_id: postId, user_id: userId, contenido, parent_id: parentId }])  \n  \n  if (error) throw error  \n  return data  \n}  \n  \n// ===== SEARCH FUNCTIONS =====  \nexport const globalSearch = async (query: string, userId: string) => {  \n  const { data, error } = await supabase.rpc(\"search_all\", {  \n    search_term: query,  \n    current_user_id: userId  \n  })  \n  \n  if (error) throw error  \n  return data || []  \n}  \n  \n// ===== NEWS FUNCTIONS =====  \nexport const getNewsList = async (category?: string) => {  \n  let query = supabase  \n    .from(\"news\")  \n    .select(`  \n      *,  \n      author:users(id, nombre, full_name, username, photo_url, avatar_url)  \n    `)  \n    .order(\"published_at\", { ascending: false })  \n  \n  if (category) {  \n    query = query.eq(\"category\", category)  \n  }  \n  \n  const { data, error } = await query  \n  if (error) throw error  \n  return data || []  \n}  \n  \nexport const getNewsDetail = async (newsId: string) => {  \n  const { data, error } = await supabase  \n    .from(\"news\")  \n    .select(`  \n      *,  \n      author:users(id, nombre, full_name, username, photo_url, avatar_url)  \n    `)  \n    .eq(\"id\", newsId)  \n    .single()  \n  \n  if (error) throw error  \n  return data  \n}  \n  \n// ===== STORAGE FUNCTIONS =====  \nexport const uploadAvatar = async (userId: string, file: any) => {  \n  const fileExt = file.uri.split(\".\").pop()  \n  const fileName = `${userId}/avatar.${fileExt}`  \n  \n  const { data, error } = await supabase.storage  \n    .from(\"avatars\")  \n    .upload(fileName, file, { upsert: true })  \n  \n  if (error) throw error  \n  \n  const { data: { publicUrl } } = supabase.storage  \n    .from(\"avatars\")  \n    .getPublicUrl(fileName)  \n  \n  return { url: publicUrl, path: fileName }  \n}  \n  \nexport const uploadPostMedia = async (userId: string, file: any) => {  \n  const fileExt = file.uri.split(\".\").pop()  \n  const fileName = `${userId}/${Date.now()}.${fileExt}`  \n  \n  const { data, error } = await supabase.storage  \n    .from(\"post-media\")  \n    .upload(fileName, file)  \n  \n  if (error) throw error  \n  \n  const { data: { publicUrl } } = supabase.storage  \n    .from(\"post-media\")  \n    .getPublicUrl(fileName)  \n  \n  return { url: publicUrl, path: fileName }  \n}  \n  \n// ===== BLOCK USER =====  \nexport const blockUser = async (userId: string, blockedUserId: string) => {  \n  const { data, error } = await supabase  \n    .from(\"user_blocks\")  \n    .insert([{ user_id: userId, blocked_user_id: blockedUserId }])  \n  \n  if (error) throw error  \n  return data  \n}  \n  \n// ===== NOTIFICATIONS =====  \nexport const getNotifications = async (userId: string) => {  \n  const { data, error } = await supabase  \n    .from(\"notifications\")  \n    .select(\"*\")  \n    .eq(\"user_id\", userId)  \n    .order(\"created_at\", { ascending: false })  \n  \n  if (error) throw error  \n  return data || []  \n}  \n  \nexport const markNotificationAsRead = async (notificationId: string) => {  \n  const { data, error } = await supabase  \n    .from(\"notifications\")  \n    .update({ read: true, read_at: new Date().toISOString() })  \n    .eq(\"id\", notificationId)  \n  \n  if (error) throw error  \n  return data  \n}  \n  \n// ===== FAQ FUNCTIONS =====  \nexport const getFAQs = async () => {  \n  const { data, error } = await supabase  \n    .from(\"faqs\")  \n    .select(\"*\")  \n    .order(\"created_at\", { ascending: true })  \n  \n  if (error) throw error  \n  return data || []  \n}  \n  \n// ===== GLOSSARY FUNCTIONS =====  \nexport const getGlossaryTerms = async () => {  \n  const { data, error } = await supabase  \n    .from(\"glossary\")  \n    .select(\"*\")  \n    .order(\"termino\", { ascending: true })  \n  \n  if (error) throw error  \n  return data || []  \n}  \n  \n// ===== ONBOARDING FUNCTIONS =====  \nexport const getOnboardingData = async () => {  \n  try {  \n    const [interests, goals, knowledgeLevels] = await Promise.all([  \n      supabase.from(\"interests\").select(\"*\").order(\"name\", { ascending: true }),  \n      supabase.from(\"goals\").select(\"*\").order(\"name\", { ascending: true }),  \n      supabase.from(\"knowledge_levels\").select(\"*\").order(\"level_order\", { ascending: true })  \n    ])  \n  \n    return {  \n      interests: interests.data || [],  \n      goals: goals.data || [],  \n      knowledgeLevels: knowledgeLevels.data || []  \n    }  \n  } catch (error) {  \n    console.error('Error loading onboarding data:', error)  \n    return { interests: [], goals: [], knowledgeLevels: [] }  \n  }  \n}  \n  \nexport const completeOnboarding = async (userId: string, onboardingData: {  \n  interests: string[]  \n  goals: string[]  \n  knowledgeLevel: string  \n}) => {  \n  const { data, error } = await supabase  \n    .from(\"users\")  \n    .update({  \n      intereses: onboardingData.interests,  \n      metas: onboardingData.goals,  \n      nivel_finanzas: onboardingData.knowledgeLevel  \n    })  \n    .eq(\"id\", userId)  \n  \n  if (error) throw error  \n  return data  \n}  \n  \n// ===== PROMOTIONS FUNCTIONS =====  \nexport const getPromotions = async (params?: { page?: number; limit?: number }) => {  \n  try {  \n    const limit = params?.limit || 10  \n    const offset = ((params?.page || 1) - 1) * limit  \n      \n    const { data, error } = await supabase  \n      .from(\"promotions\")  \n      .select(\"*\")  \n      .eq(\"active\", true)  \n      .order(\"created_at\", { ascending: false })  \n      .range(offset, offset + limit - 1)  \n  \n    if (error) throw error  \n    return {  \n      data: data || [],  \n      meta: { hasMore: data?.length === limit }  \n    }  \n  } catch (error) {  \n    console.error('Error loading promotions:', error)  \n    return { data: [], meta: { hasMore: false } }  \n  }  \n}  \n  \n// ===== COURSES FUNCTIONS =====  \nexport const getCoursesWithLessons = async () => {  \n  try {  \n    const { data, error } = await supabase  \n      .from(\"courses\")  \n      .select(`  \n        *,  \n        modules:course_modules(  \n          *,  \n          lessons(*)  \n        )  \n      `)  \n      .order(\"created_at\", { ascending: false })  \n  \n    if (error) throw error  \n    return data || []  \n  } catch (error) {  \n    console.error('Error loading courses:', error)  \n    return []  \n  }  \n}  \n  \nexport const completeLesson = async (userId: string, lessonId: string) => {  \n  const { data, error } = await supabase  \n    .from(\"lesson_progress\")  \n    .insert([{ user_id: userId, lesson_id: lessonId }])  \n  \n  if (error) throw error  \n  return data  \n}  \n  \n// ===== PORTFOLIO FUNCTIONS =====  \nexport const getPortfolio = async (userId: string) => {  \n  try {  \n    const { data, error } = await supabase  \n      .from(\"simulated_portfolios\")  \n      .select(`  \n        *,  \n        investments:simulated_investments(*)  \n      `)  \n      .eq(\"user_id\", userId)  \n      .single()  \n  \n    if (error) throw error  \n    return data  \n  } catch (error) {  \n    console.error('Error loading portfolio:', error)  \n    return null  \n  }  \n}  \n  \nexport const addInvestment = async (investmentData: {  \n  portfolio_id: string  \n  tipo_activo: string  \n  monto: number  \n  rendimiento?: number  \n  fecha: string  \n}) => {  \n  const { data, error } = await supabase  \n    .from(\"simulated_investments\")  \n    .insert([investmentData])  \n  \n  if (error) throw error  \n  return data  \n}"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}