{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\invit\\\\Downloads\\\\investi-app\\\\src\\\\screens\\\\HomeFeedScreen.tsx\";\nimport { useState, useEffect, useRef } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useTranslation } from \"react-i18next\";\nimport { Search, MessageSquare, Bell, PartyPopper, BarChart2, Handshake, ThumbsUp, MessageCircle, Share2, Send, Edit3, Home, TrendingUp, PlusCircle, Newspaper, BookOpen } from \"lucide-react-native\";\nimport { Sidebar } from \"../components/Sidebar\";\nimport { NotificationsModal } from \"../components/NotificationsModal\";\nimport { getUserFeed, likePost } from \"../rest/api\";\nimport { getCurrentUserId } from \"../rest/client\";\nimport { EmptyState } from \"../components/EmptyState\";\nimport { useAuthGuard } from \"../hooks/useAuthGuard\";\nimport { useOnboardingGuard } from \"../hooks/useOnboardingGuard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function HomeFeedScreen({\n  navigation\n}) {\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isNotificationsOpen, setIsNotificationsOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isSearchFocused, setIsSearchFocused] = useState(false);\n  const [userId, setUserId] = useState(null);\n  const [likedPosts, setLikedPosts] = useState(new Set());\n  const [currentRoute, setCurrentRoute] = useState(\"HomeFeed\");\n  const searchInputRef = useRef(null);\n  useAuthGuard();\n  const {\n    loading: onboardingLoading\n  } = useOnboardingGuard();\n  useEffect(() => {\n    loadFeed();\n  }, []);\n  const loadFeed = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const uid = await getCurrentUserId();\n      setUserId(uid);\n      if (uid) {\n        const data = await getUserFeed(uid, 20);\n        const user = await getCurrentUser();\n        if (user?.intereses && user.intereses.length > 0) {\n          const userInterests = user.intereses.map(i => i.toLowerCase());\n          const sortedPosts = data.sort((a, b) => {\n            const aRelevant = userInterests.some(interest => (a.contenido || a.content || '').toLowerCase().includes(interest) || (a.community_name || '').toLowerCase().includes(interest));\n            const bRelevant = userInterests.some(interest => (b.contenido || b.content || '').toLowerCase().includes(interest) || (b.community_name || '').toLowerCase().includes(interest));\n            if (aRelevant && !bRelevant) return -1;\n            if (!aRelevant && bRelevant) return 1;\n            return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();\n          });\n          setPosts(sortedPosts.slice(0, 15));\n        } else {\n          setPosts(data);\n        }\n      }\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const toggleSidebar = () => setIsSidebarOpen(!isSidebarOpen);\n  const clearSearch = () => {\n    setSearchQuery(\"\");\n    Keyboard.dismiss();\n    setIsSearchFocused(false);\n  };\n  const handleSearchSubmit = () => {\n    if (searchQuery.trim()) {\n      navigation.navigate(\"Promotions\", {\n        searchQuery: searchQuery.trim(),\n        clearSearch: false\n      });\n    }\n  };\n  const handleLike = async postId => {\n    if (!userId) return;\n    try {\n      await likePost(postId, userId, true);\n      setLikedPosts(prev => new Set([...prev, postId]));\n      setPosts(prev => prev.map(post => post.id === postId ? Object.assign({}, post, {\n        likes: (post.likes || 0) + 1\n      }) : post));\n    } catch (error) {\n      Alert.alert(\"Error\", \"No se pudo dar like al post\");\n    }\n  };\n  const handleShare = async content => {\n    try {\n      await Share.share({\n        message: content,\n        title: \"Compartir desde Investí\"\n      });\n    } catch (error) {\n      console.log(\"Error sharing:\", error);\n    }\n  };\n  const handleQuickAction = actionKey => {\n    switch (actionKey) {\n      case \"celebrate\":\n        navigation.navigate(\"CreatePost\", {\n          type: \"celebration\"\n        });\n        break;\n      case \"poll\":\n        navigation.navigate(\"CreatePost\", {\n          type: \"poll\"\n        });\n        break;\n      case \"partner\":\n        navigation.navigate(\"CreatePost\", {\n          type: \"partnership\"\n        });\n        break;\n    }\n  };\n  const handleSendMessage = postId => {\n    navigation.navigate(\"ChatScreen\", {\n      postId\n    });\n  };\n  const handleLanguageToggle = () => {\n    const newLanguage = i18n.language === \"es\" ? \"en\" : \"es\";\n    i18n.changeLanguage(newLanguage);\n  };\n  const handleNavigation = routeName => {\n    setCurrentRoute(routeName);\n    navigation.navigate(routeName);\n  };\n  const quickActions = [{\n    key: \"celebrate\",\n    label: \"Celebrar un momento\",\n    icon: PartyPopper,\n    color: \"#FF6B6B\"\n  }, {\n    key: \"poll\",\n    label: \"Crear una encuesta\",\n    icon: BarChart2,\n    color: \"#4ECDC4\"\n  }, {\n    key: \"partner\",\n    label: \"Buscar un socio\",\n    icon: Handshake,\n    color: \"#45B7D1\"\n  }];\n  const renderPost = ({\n    item\n  }) => _jsxDEV(View, {\n    style: styles.postCard,\n    children: [_jsxDEV(View, {\n      style: styles.postHeader,\n      children: [_jsxDEV(TouchableOpacity, {\n        onPress: () => navigation.navigate(\"Profile\", {\n          userId: item.user_id\n        }),\n        children: _jsxDEV(Image, {\n          source: {\n            uri: item.user_data?.avatar || item.user_avatar || 'https://i.pravatar.cc/100?img=1'\n          },\n          style: styles.avatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: {\n          flex: 1\n        },\n        children: [_jsxDEV(TouchableOpacity, {\n          onPress: () => navigation.navigate(\"Profile\", {\n            userId: item.user_id\n          }),\n          children: _jsxDEV(Text, {\n            style: styles.postUser,\n            children: item.user_data?.name || item.user_name || 'Usuario'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.postRole,\n          children: [item.user_data?.role || item.role || 'Usuario', \" \\xB7\", \" \", item.post_time || new Date(item.created_at).toLocaleTimeString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        children: _jsxDEV(Text, {\n          style: styles.followText,\n          children: \"Seguir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), _jsxDEV(TouchableOpacity, {\n      onPress: () => navigation.navigate(\"PostDetail\", {\n        postId: item.id\n      }),\n      children: _jsxDEV(Text, {\n        style: styles.postContent,\n        children: item.content || item.contenido\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), item.image && _jsxDEV(TouchableOpacity, {\n      onPress: () => navigation.navigate(\"PostDetail\", {\n        postId: item.id\n      }),\n      children: _jsxDEV(Image, {\n        source: {\n          uri: item.image\n        },\n        style: styles.postImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this), _jsxDEV(View, {\n      style: styles.postStats,\n      children: [_jsxDEV(Text, {\n        style: styles.statText,\n        children: [item.likes || 0, \" me gusta\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.statText,\n        children: [item.comments || 0, \" comentarios\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.statText,\n        children: [item.shares || 0, \" compartidos\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.postActions,\n      children: [_jsxDEV(TouchableOpacity, {\n        style: [styles.actionBtn, likedPosts.has(item.id) && styles.actionBtnLiked],\n        onPress: () => handleLike(item.id),\n        children: [_jsxDEV(ThumbsUp, {\n          size: 18,\n          color: likedPosts.has(item.id) ? \"#2673f3\" : \"#666\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: [styles.actionText, likedPosts.has(item.id) && styles.actionTextLiked],\n          children: \"Me gusta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.actionBtn,\n        onPress: () => navigation.navigate(\"PostDetail\", {\n          postId: item.id\n        }),\n        children: [_jsxDEV(MessageCircle, {\n          size: 18,\n          color: \"#666\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.actionText,\n          children: \"Comentar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.actionBtn,\n        onPress: () => handleShare(item.content || item.contenido),\n        children: [_jsxDEV(Share2, {\n          size: 18,\n          color: \"#666\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.actionText,\n          children: \"Compartir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.actionBtn,\n        onPress: () => handleSendMessage(item.id),\n        children: [_jsxDEV(Send, {\n          size: 18,\n          color: \"#666\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.actionText,\n          children: \"Enviar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n  if (onboardingLoading) {\n    return _jsxDEV(SafeAreaView, {\n      style: styles.container,\n      children: _jsxDEV(View, {\n        style: styles.loadingContainer,\n        children: _jsxDEV(ActivityIndicator, {\n          size: \"large\",\n          color: \"#2673f3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxDEV(Sidebar, {\n      isOpen: isSidebarOpen,\n      onClose: toggleSidebar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), _jsxDEV(NotificationsModal, {\n      visible: isNotificationsOpen,\n      onClose: () => setIsNotificationsOpen(false),\n      userId: userId,\n      navigation: navigation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(TouchableOpacity, {\n        onPress: toggleSidebar,\n        children: _jsxDEV(Image, {\n          source: {\n            uri: \"https://www.investiiapp.com/investi-logo-new-main.png\"\n          },\n          style: styles.headerAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: [styles.searchContainer, isSearchFocused && styles.searchContainerFocused],\n        children: [_jsxDEV(Search, {\n          size: 20,\n          color: \"#667\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), _jsxDEV(TextInput, {\n          ref: searchInputRef,\n          style: styles.searchInput,\n          placeholder: \"Buscar\",\n          placeholderTextColor: \"#999\",\n          value: searchQuery,\n          onChangeText: setSearchQuery,\n          onFocus: () => setIsSearchFocused(true),\n          onBlur: () => !searchQuery && setIsSearchFocused(false),\n          returnKeyType: \"search\",\n          onSubmitEditing: handleSearchSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), searchQuery ? _jsxDEV(TouchableOpacity, {\n          onPress: clearSearch,\n          style: styles.clearButton,\n          children: _jsxDEV(Text, {\n            style: {\n              fontSize: 16,\n              color: \"#666\"\n            },\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.headerIcon,\n        onPress: () => setIsNotificationsOpen(true),\n        children: _jsxDEV(Bell, {\n          size: 24,\n          color: \"#111\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.headerIcon,\n        onPress: () => navigation.navigate(\"ChatList\"),\n        children: _jsxDEV(MessageSquare, {\n          size: 24,\n          color: \"#111\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.langToggle,\n        onPress: handleLanguageToggle,\n        children: _jsxDEV(Text, {\n          style: styles.langToggleText,\n          children: i18n.language.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.quickActionsContainer,\n      children: _jsxDEV(ScrollView, {\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        contentContainerStyle: styles.quickActionsContent,\n        decelerationRate: \"fast\",\n        snapToInterval: 140,\n        snapToAlignment: \"start\",\n        children: quickActions.map(action => _jsxDEV(TouchableOpacity, {\n          style: styles.quickChip,\n          onPress: () => handleQuickAction(action.key),\n          children: [_jsxDEV(View, {\n            style: [styles.quickChipIconContainer, {\n              backgroundColor: `${action.color}15`\n            }],\n            children: _jsxDEV(action.icon, {\n              size: 14,\n              color: action.color\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), _jsxDEV(Text, {\n            style: styles.quickChipLabel,\n            children: action.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this)]\n        }, action.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.writePostContainer,\n      children: [_jsxDEV(Image, {\n        source: {\n          uri: \"https://www.investiiapp.com/investi-logo-new-main.png\"\n        },\n        style: styles.writeAvatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.writeBox,\n        onPress: () => navigation.navigate(\"CreatePost\"),\n        children: [_jsxDEV(Edit3, {\n          size: 16,\n          color: \"#999\",\n          style: styles.writeIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.writePlaceholder,\n          children: \"Escribe algo\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.feedContainer,\n      children: loading ? _jsxDEV(View, {\n        style: styles.loadingContainer,\n        children: _jsxDEV(ActivityIndicator, {\n          size: \"large\",\n          color: \"#2673f3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this) : error || posts.length === 0 ? _jsxDEV(EmptyState, {\n        title: \"No hay publicaciones disponibles\",\n        message: \"Reintentar\",\n        onRetry: loadFeed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }, this) : _jsxDEV(FlatList, {\n        data: posts,\n        keyExtractor: item => item.id.toString(),\n        renderItem: renderPost,\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: styles.feedContent,\n        refreshing: loading,\n        onRefresh: loadFeed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.bottomNavigation,\n      children: [_jsxDEV(TouchableOpacity, {\n        style: styles.navItem,\n        onPress: () => handleNavigation(\"HomeFeed\"),\n        children: _jsxDEV(Home, {\n          size: 24,\n          color: currentRoute === \"HomeFeed\" ? \"#2673f3\" : \"#999\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.navItem,\n        onPress: () => handleNavigation(\"MarketInfo\"),\n        children: _jsxDEV(TrendingUp, {\n          size: 24,\n          color: currentRoute === \"MarketInfo\" ? \"#2673f3\" : \"#999\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.fabContainer,\n        onPress: () => handleNavigation(\"CreatePost\"),\n        children: _jsxDEV(PlusCircle, {\n          size: 34,\n          color: \"#2673f3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.navItem,\n        onPress: () => handleNavigation(\"News\"),\n        children: _jsxDEV(Newspaper, {\n          size: 24,\n          color: currentRoute === \"News\" ? \"#2673f3\" : \"#999\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.navItem,\n        onPress: () => handleNavigation(\"Educacion\"),\n        children: _jsxDEV(BookOpen, {\n          size: 24,\n          color: currentRoute === \"Educacion\" ? \"#2673f3\" : \"#999\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 315,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#f7f8fa\"\n  },\n  header: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    backgroundColor: \"white\",\n    borderBottomWidth: 1,\n    borderBottomColor: \"#e5e5e5\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.05,\n    shadowRadius: 2,\n    elevation: 2\n  },\n  headerAvatar: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    marginRight: 12\n  },\n  headerIcon: {\n    marginHorizontal: 8,\n    padding: 4\n  },\n  langToggle: {\n    marginLeft: 8,\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    borderRadius: 16,\n    backgroundColor: \"#f0f7ff\",\n    borderWidth: 1,\n    borderColor: \"#e0f0ff\"\n  },\n  langToggleText: {\n    fontSize: 12,\n    fontWeight: \"600\",\n    color: \"#2673f3\"\n  },\n  searchContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"#f5f5f5\",\n    borderRadius: 24,\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    marginHorizontal: 8\n  },\n  searchContainerFocused: {\n    backgroundColor: \"white\",\n    borderWidth: 2,\n    borderColor: \"#2673f3\"\n  },\n  searchInput: {\n    flex: 1,\n    marginLeft: 8,\n    fontSize: 15,\n    color: \"#111\"\n  },\n  clearButton: {\n    paddingHorizontal: 8\n  },\n  quickActionsContainer: {\n    backgroundColor: \"white\",\n    paddingVertical: 8,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#e5e5e5\"\n  },\n  quickActionsContent: {\n    paddingHorizontal: 16\n  },\n  quickChip: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"#ffffff\",\n    borderRadius: 32,\n    paddingHorizontal: 20,\n    paddingVertical: 8,\n    marginRight: 12,\n    borderWidth: 1,\n    borderColor: \"#e8e8e8\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.08,\n    shadowRadius: 4,\n    elevation: 3\n  },\n  quickChipIconContainer: {\n    width: 28,\n    height: 24,\n    borderRadius: 14,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginRight: 10\n  },\n  quickChipLabel: {\n    fontSize: 13,\n    color: \"#333\",\n    fontWeight: \"500\"\n  },\n  writePostContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderBottomWidth: 8,\n    borderBottomColor: \"#f0f0f0\"\n  },\n  writeAvatar: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    marginRight: 12\n  },\n  writeBox: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"#ffffff\",\n    borderRadius: 24,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderWidth: 1,\n    borderColor: \"#e0e0e0\"\n  },\n  writeIcon: {\n    marginRight: 8\n  },\n  writePlaceholder: {\n    color: \"#777\",\n    fontSize: 15,\n    flex: 1\n  },\n  feedContainer: {\n    flex: 1\n  },\n  feedContent: {\n    paddingVertical: 8\n  },\n  postCard: {\n    backgroundColor: \"white\",\n    marginHorizontal: 16,\n    marginVertical: 6,\n    borderRadius: 12,\n    padding: 16,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.08,\n    shadowRadius: 4,\n    elevation: 3\n  },\n  postHeader: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 12\n  },\n  avatar: {\n    width: 44,\n    height: 44,\n    borderRadius: 22,\n    marginRight: 12\n  },\n  postUser: {\n    fontWeight: \"bold\",\n    fontSize: 16,\n    color: \"#111\",\n    marginBottom: 2\n  },\n  postRole: {\n    fontSize: 13,\n    color: \"#666\"\n  },\n  followText: {\n    color: \"#2673f3\",\n    fontSize: 14,\n    fontWeight: \"500\"\n  },\n  postContent: {\n    fontSize: 15,\n    color: \"#111\",\n    marginBottom: 12,\n    lineHeight: 22\n  },\n  postImage: {\n    width: \"100%\",\n    height: 200,\n    borderRadius: 12,\n    marginBottom: 12\n  },\n  postStats: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginBottom: 12,\n    paddingHorizontal: 4\n  },\n  statText: {\n    fontSize: 13,\n    color: \"#666\",\n    fontWeight: \"500\"\n  },\n  postActions: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    borderTopWidth: 1,\n    borderTopColor: \"#f0f0f0\",\n    paddingTop: 12,\n    marginTop: 8\n  },\n  actionBtn: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingVertical: 8,\n    paddingHorizontal: 4,\n    borderRadius: 8,\n    flex: 1,\n    justifyContent: \"center\"\n  },\n  actionBtnLiked: {\n    backgroundColor: \"#f0f7ff\"\n  },\n  actionText: {\n    fontSize: 11,\n    color: \"#666\",\n    fontWeight: \"500\",\n    marginLeft: 4\n  },\n  actionTextLiked: {\n    color: \"#2673f3\",\n    fontWeight: \"600\"\n  },\n  bottomNavigation: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n    height: 70,\n    backgroundColor: \"white\",\n    borderTopWidth: 1,\n    borderTopColor: \"#e5e5e5\",\n    paddingBottom: 20,\n    paddingTop: 8,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: -2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  navItem: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1\n  },\n  fabContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingVertical: 40\n  }\n});","map":{"version":3,"names":["_jsxFileName","useState","useEffect","useRef","View","Text","TouchableOpacity","StyleSheet","SafeAreaView","ScrollView","TextInput","Image","ActivityIndicator","Keyboard","FlatList","Share","Alert","useTranslation","Search","MessageSquare","Bell","PartyPopper","BarChart2","Handshake","ThumbsUp","MessageCircle","Share2","Send","Edit3","Home","TrendingUp","PlusCircle","Newspaper","BookOpen","Sidebar","NotificationsModal","getUserFeed","likePost","getCurrentUserId","EmptyState","useAuthGuard","useOnboardingGuard","jsxDEV","_jsxDEV","HomeFeedScreen","navigation","t","i18n","posts","setPosts","loading","setLoading","error","setError","isSidebarOpen","setIsSidebarOpen","isNotificationsOpen","setIsNotificationsOpen","searchQuery","setSearchQuery","isSearchFocused","setIsSearchFocused","userId","setUserId","likedPosts","setLikedPosts","Set","currentRoute","setCurrentRoute","searchInputRef","onboardingLoading","loadFeed","uid","data","user","getCurrentUser","intereses","length","userInterests","map","i","toLowerCase","sortedPosts","sort","a","b","aRelevant","some","interest","contenido","content","includes","community_name","bRelevant","Date","created_at","getTime","slice","message","toggleSidebar","clearSearch","dismiss","handleSearchSubmit","trim","navigate","handleLike","postId","prev","post","id","Object","assign","likes","alert","handleShare","share","title","console","log","handleQuickAction","actionKey","type","handleSendMessage","handleLanguageToggle","newLanguage","language","changeLanguage","handleNavigation","routeName","quickActions","key","label","icon","color","renderPost","item","style","styles","postCard","children","postHeader","onPress","user_id","source","uri","user_data","avatar","user_avatar","fileName","lineNumber","columnNumber","flex","postUser","name","user_name","postRole","role","post_time","toLocaleTimeString","followText","postContent","image","postImage","postStats","statText","comments","shares","postActions","actionBtn","has","actionBtnLiked","size","actionText","actionTextLiked","container","loadingContainer","isOpen","onClose","visible","header","headerAvatar","searchContainer","searchContainerFocused","ref","searchInput","placeholder","placeholderTextColor","value","onChangeText","onFocus","onBlur","returnKeyType","onSubmitEditing","clearButton","fontSize","headerIcon","langToggle","langToggleText","toUpperCase","quickActionsContainer","horizontal","showsHorizontalScrollIndicator","contentContainerStyle","quickActionsContent","decelerationRate","snapToInterval","snapToAlignment","action","quickChip","quickChipIconContainer","backgroundColor","quickChipLabel","writePostContainer","writeAvatar","writeBox","writeIcon","writePlaceholder","feedContainer","onRetry","keyExtractor","toString","renderItem","showsVerticalScrollIndicator","feedContent","refreshing","onRefresh","bottomNavigation","navItem","fabContainer","create","flexDirection","alignItems","paddingHorizontal","paddingVertical","borderBottomWidth","borderBottomColor","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","borderRadius","marginRight","marginHorizontal","padding","marginLeft","borderWidth","borderColor","fontWeight","justifyContent","marginVertical","marginBottom","lineHeight","borderTopWidth","borderTopColor","paddingTop","marginTop","paddingBottom"],"sources":["C:/Users/invit/Downloads/investi-app/src/screens/HomeFeedScreen.tsx"],"sourcesContent":["\"use client\"  \n  \nimport { useState, useEffect, useRef } from \"react\"  \nimport {  \n  View,  \n  Text,  \n  TouchableOpacity,  \n  StyleSheet,  \n  SafeAreaView,  \n  ScrollView,  \n  TextInput,  \n  Image,  \n  ActivityIndicator,  \n  Keyboard,  \n  FlatList,  \n  Share,  \n  Alert,  \n} from \"react-native\"  \nimport { useTranslation } from \"react-i18next\"  \nimport {  \n  Search,  \n  MessageSquare,  \n  Bell,  \n  PartyPopper,  \n  BarChart2,  \n  Handshake,  \n  ThumbsUp,  \n  MessageCircle,  \n  Share2,  \n  Send,  \n  Edit3,  \n  Home,  \n  TrendingUp,  \n  PlusCircle,  \n  Newspaper,  \n  BookOpen,  \n} from \"lucide-react-native\"  \n  \nimport { Sidebar } from \"../components/Sidebar\"  \nimport { NotificationsModal } from \"../components/NotificationsModal\"  \nimport { getUserFeed, likePost } from \"../rest/api\"  \nimport { getCurrentUserId } from \"../rest/client\"  \nimport { EmptyState } from \"../components/EmptyState\"  \nimport { useAuthGuard } from \"../hooks/useAuthGuard\"  \nimport { useOnboardingGuard } from \"../hooks/useOnboardingGuard\"  \n  \nexport function HomeFeedScreen({ navigation }: any) {  \n  const { t, i18n } = useTranslation()  \n  const [posts, setPosts] = useState<any[]>([])  \n  const [loading, setLoading] = useState(true)  \n  const [error, setError] = useState<string | null>(null)  \n  const [isSidebarOpen, setIsSidebarOpen] = useState(false)  \n  const [isNotificationsOpen, setIsNotificationsOpen] = useState(false)  \n  const [searchQuery, setSearchQuery] = useState(\"\")  \n  const [isSearchFocused, setIsSearchFocused] = useState(false)  \n  const [userId, setUserId] = useState<string | null>(null)  \n  const [likedPosts, setLikedPosts] = useState<Set<string>>(new Set())  \n  const [currentRoute, setCurrentRoute] = useState(\"HomeFeed\")  \n  const searchInputRef = useRef<TextInput>(null)  \n  \n  useAuthGuard()  \n  const { loading: onboardingLoading } = useOnboardingGuard()  \n  \n  useEffect(() => {  \n    loadFeed()  \n  }, [])  \n  \n  const loadFeed = async () => {\n    setLoading(true)\n    setError(null)\n    try {\n      const uid = await getCurrentUserId()\n      setUserId(uid)\n      if (uid) {\n        // Obtener feed personalizado basado en comunidades e intereses\n        const data = await getUserFeed(uid, 20)\n        \n        // Filtrar y priorizar posts basados en intereses del usuario\n        const user = await getCurrentUser()\n        if (user?.intereses && user.intereses.length > 0) {\n          const userInterests = user.intereses.map(i => i.toLowerCase())\n          \n          // Ordenar posts: primero los de comunidades del usuario, luego por relevancia\n          const sortedPosts = data.sort((a, b) => {\n            const aRelevant = userInterests.some(interest => \n              (a.contenido || a.content || '').toLowerCase().includes(interest) ||\n              (a.community_name || '').toLowerCase().includes(interest)\n            )\n            const bRelevant = userInterests.some(interest => \n              (b.contenido || b.content || '').toLowerCase().includes(interest) ||\n              (b.community_name || '').toLowerCase().includes(interest)\n            )\n            \n            if (aRelevant && !bRelevant) return -1\n            if (!aRelevant && bRelevant) return 1\n            \n            // Si ambos son relevantes o no relevantes, ordenar por fecha\n            return new Date(b.created_at).getTime() - new Date(a.created_at).getTime()\n          })\n          \n          setPosts(sortedPosts.slice(0, 15)) // Limitar a 15 posts más relevantes\n        } else {\n          setPosts(data)\n        }\n      }\n    } catch (error: any) {\n      setError(error.message)\n    } finally {\n      setLoading(false)\n    }\n  }  \n  \n  const toggleSidebar = () => setIsSidebarOpen(!isSidebarOpen)  \n  \n  const clearSearch = () => {  \n    setSearchQuery(\"\")  \n    Keyboard.dismiss()  \n    setIsSearchFocused(false)  \n  }  \n  \n  const handleSearchSubmit = () => {  \n    if (searchQuery.trim()) {  \n      navigation.navigate(\"Promotions\", {  \n        searchQuery: searchQuery.trim(),  \n        clearSearch: false,  \n      })  \n    }  \n  }  \n  \n  const handleLike = async (postId: string) => {  \n    if (!userId) return  \n      \n    try {  \n      await likePost(postId, userId, true)  \n      setLikedPosts(prev => new Set([...prev, postId]))  \n        \n      setPosts(prev => prev.map(post =>   \n        post.id === postId   \n          ? { ...post, likes: (post.likes || 0) + 1 }  \n          : post  \n      ))  \n    } catch (error) {  \n      Alert.alert(\"Error\", \"No se pudo dar like al post\")  \n    }  \n  }  \n  \n  const handleShare = async (content: string) => {  \n    try {  \n      await Share.share({  \n        message: content,  \n        title: \"Compartir desde Investí\"  \n      })  \n    } catch (error) {  \n      console.log(\"Error sharing:\", error)  \n    }  \n  }  \n  \n  const handleQuickAction = (actionKey: string) => {  \n    switch (actionKey) {  \n      case \"celebrate\":  \n        navigation.navigate(\"CreatePost\", { type: \"celebration\" })  \n        break  \n      case \"poll\":  \n        navigation.navigate(\"CreatePost\", { type: \"poll\" })  \n        break  \n      case \"partner\":  \n        navigation.navigate(\"CreatePost\", { type: \"partnership\" })  \n        break  \n    }  \n  }  \n  \n  const handleSendMessage = (postId: string) => {  \n    navigation.navigate(\"ChatScreen\", { postId })  \n  }  \n  \n  const handleLanguageToggle = () => {  \n    const newLanguage = i18n.language === \"es\" ? \"en\" : \"es\"  \n    i18n.changeLanguage(newLanguage)  \n  }  \n  \n  const handleNavigation = (routeName: string) => {  \n    setCurrentRoute(routeName)  \n    navigation.navigate(routeName)  \n  }  \n  \n  const quickActions = [  \n    {   \n      key: \"celebrate\",   \n      label: \"Celebrar un momento\",   \n      icon: PartyPopper,  \n      color: \"#FF6B6B\"  \n    },  \n    {   \n      key: \"poll\",   \n      label: \"Crear una encuesta\",   \n      icon: BarChart2,  \n      color: \"#4ECDC4\"  \n    },  \n    {   \n      key: \"partner\",   \n      label: \"Buscar un socio\",   \n      icon: Handshake,  \n      color: \"#45B7D1\"  \n    },  \n  ]  \n  \n  const renderPost = ({ item }: any) => (  \n    <View style={styles.postCard}>  \n      {/* HEADER */}  \n      <View style={styles.postHeader}>  \n        <TouchableOpacity  \n          onPress={() => navigation.navigate(\"Profile\", { userId: item.user_id })}  \n        >  \n          <Image  \n            source={{ uri: item.user_data?.avatar || item.user_avatar || 'https://i.pravatar.cc/100?img=1' }}  \n            style={styles.avatar}  \n          />  \n        </TouchableOpacity>  \n        <View style={{ flex: 1 }}>  \n          <TouchableOpacity  \n            onPress={() => navigation.navigate(\"Profile\", { userId: item.user_id })}  \n          >  \n            <Text style={styles.postUser}>  \n              {item.user_data?.name || item.user_name || 'Usuario'}  \n            </Text>  \n          </TouchableOpacity>  \n          <Text style={styles.postRole}>  \n            {item.user_data?.role || item.role || 'Usuario'} ·{\" \"}  \n            {item.post_time || new Date(item.created_at).toLocaleTimeString()}  \n          </Text>  \n        </View>  \n        {/* BOTÓN SEGUIR - Texto azul plano */}  \n        <TouchableOpacity>  \n          <Text style={styles.followText}>Seguir</Text>  \n        </TouchableOpacity>  \n      </View>  \n  \n      {/* CONTENT */}  \n      <TouchableOpacity  \n        onPress={() => navigation.navigate(\"PostDetail\", { postId: item.id })}  \n      >  \n        <Text style={styles.postContent}>  \n          {item.content || item.contenido}  \n        </Text>  \n      </TouchableOpacity>  \n  \n      {item.image && (  \n        <TouchableOpacity  \n          onPress={() => navigation.navigate(\"PostDetail\", { postId: item.id })}  \n        >  \n          <Image source={{ uri: item.image }} style={styles.postImage} />  \n        </TouchableOpacity>  \n      )}  \n  \n      {/* STATS */}  \n      <View style={styles.postStats}>  \n        <Text style={styles.statText}>{item.likes || 0} me gusta</Text>  \n        <Text style={styles.statText}>{item.comments || 0} comentarios</Text>  \n        <Text style={styles.statText}>{item.shares || 0} compartidos</Text>  \n      </View>  \n  \n      {/* ACTIONS - 4 iconos alineados con mismo ancho */}  \n      <View style={styles.postActions}>  \n        <TouchableOpacity  \n          style={[styles.actionBtn, likedPosts.has(item.id) && styles.actionBtnLiked]}  \n          onPress={() => handleLike(item.id)}  \n        >  \n          <ThumbsUp   \n            size={18}   \n            color={likedPosts.has(item.id) ? \"#2673f3\" : \"#666\"}   \n          />  \n          <Text style={[styles.actionText, likedPosts.has(item.id) && styles.actionTextLiked]}>  \n            Me gusta  \n          </Text>  \n        </TouchableOpacity>  \n          \n        <TouchableOpacity  \n          style={styles.actionBtn}  \n          onPress={() => navigation.navigate(\"PostDetail\", { postId: item.id })}  \n        >  \n          <MessageCircle size={18} color=\"#666\" />  \n          <Text style={styles.actionText}>Comentar</Text>  \n        </TouchableOpacity>  \n          \n        <TouchableOpacity  \n          style={styles.actionBtn}  \n          onPress={() => handleShare(item.content || item.contenido)}  \n        >  \n          <Share2 size={18} color=\"#666\" />  \n          <Text style={styles.actionText}>Compartir</Text>  \n        </TouchableOpacity>  \n          \n        <TouchableOpacity   \n          style={styles.actionBtn}   \n          onPress={() => handleSendMessage(item.id)}  \n        >  \n          <Send size={18} color=\"#666\" />  \n          <Text style={styles.actionText}>Enviar</Text>  \n        </TouchableOpacity>  \n      </View>  \n    </View>  \n  )  \n  \n  if (onboardingLoading) {  \n    return (  \n      <SafeAreaView style={styles.container}>  \n        <View style={styles.loadingContainer}>  \n          <ActivityIndicator size=\"large\" color=\"#2673f3\" />  \n        </View>  \n      </SafeAreaView>  \n    )  \n  }  \n  \n  return (  \n    <SafeAreaView style={styles.container}>  \n      <Sidebar isOpen={isSidebarOpen} onClose={toggleSidebar} />  \n        \n      <NotificationsModal  \n        visible={isNotificationsOpen}  \n        onClose={() => setIsNotificationsOpen(false)}  \n        userId={userId}  \n        navigation={navigation}  \n      />  \n  \n      {/* HEADER */}  \n      <View style={styles.header}>  \n        <TouchableOpacity onPress={toggleSidebar}>  \n          <Image  \n            source={{  \n              uri: \"https://www.investiiapp.com/investi-logo-new-main.png\",  \n            }}  \n            style={styles.headerAvatar}  \n          />  \n        </TouchableOpacity>  \n  \n        <View  \n          style={[  \n            styles.searchContainer,  \n            isSearchFocused && styles.searchContainerFocused,  \n          ]}  \n        >  \n          <Search size={20} color=\"#667\" />  \n          <TextInput  \n            ref={searchInputRef}  \n            style={styles.searchInput}  \n            placeholder=\"Buscar\"  \n            placeholderTextColor=\"#999\"  \n            value={searchQuery}  \n            onChangeText={setSearchQuery}  \n            onFocus={() => setIsSearchFocused(true)}  \n            onBlur={() => !searchQuery && setIsSearchFocused(false)}  \n            returnKeyType=\"search\"  \n            onSubmitEditing={handleSearchSubmit}  \n          />  \n          {searchQuery ? (  \n            <TouchableOpacity onPress={clearSearch} style={styles.clearButton}>  \n              <Text style={{ fontSize: 16, color: \"#666\" }}>✕</Text>  \n            </TouchableOpacity>  \n          ) : null}  \n        </View>  \n  \n        <TouchableOpacity   \n          style={styles.headerIcon}  \n          onPress={() => setIsNotificationsOpen(true)}  \n        >  \n          <Bell size={24} color=\"#111\" />  \n        </TouchableOpacity>  \n  \n        <TouchableOpacity   \n          style={styles.headerIcon}  \n          onPress={() => navigation.navigate(\"ChatList\")}  \n        >  \n          <MessageSquare size={24} color=\"#111\" />  \n        </TouchableOpacity>  \n  \n        <TouchableOpacity  \n          style={styles.langToggle}  \n          onPress={handleLanguageToggle}  \n        >  \n          <Text style={styles.langToggleText}>  \n            {i18n.language.toUpperCase()}  \n          </Text>  \n        </TouchableOpacity>  \n      </View>  \n  \n      {/* QUICK ACTIONS */}  \n      <View style={styles.quickActionsContainer}>  \n        <ScrollView  \n          horizontal  \n          showsHorizontalScrollIndicator={false}  \n          contentContainerStyle={styles.quickActionsContent}  \n          decelerationRate=\"fast\"  \n          snapToInterval={140}  \n          snapToAlignment=\"start\"  \n        >  \n          {quickActions.map((action) => (  \n            <TouchableOpacity  \n              key={action.key}  \n              style={styles.quickChip}  \n              onPress={() => handleQuickAction(action.key)}  \n            >  \n              <View style={[styles.quickChipIconContainer, { backgroundColor: `${action.color}15` }]}>  \n                <action.icon size={14} color={action.color} />  \n              </View>  \n              <Text style={styles.quickChipLabel}>{action.label}</Text>  \n            </TouchableOpacity>  \n          ))}  \n        </ScrollView>  \n      </View>  \n  \n      {/* WRITE POST */}  \n      <View style={styles.writePostContainer}>  \n        <Image  \n          source={{  \n            uri: \"https://www.investiiapp.com/investi-logo-new-main.png\",  \n          }}  \n          style={styles.writeAvatar}  \n        />  \n        <TouchableOpacity  \n          style={styles.writeBox}  \n          onPress={() => navigation.navigate(\"CreatePost\")}  \n        >  \n          <Edit3 size={16} color=\"#999\" style={styles.writeIcon} />  \n          <Text style={styles.writePlaceholder}>Escribe algo…</Text>  \n        </TouchableOpacity>  \n      </View>  \n  \n      {/* FEED */}  \n      <View style={styles.feedContainer}>  \n        {loading ? (  \n          <View style={styles.loadingContainer}>  \n            <ActivityIndicator size=\"large\" color=\"#2673f3\" />  \n          </View>  \n        ) : error || posts.length === 0 ? (  \n          <EmptyState  \n            title=\"No hay publicaciones disponibles\"  \n            message=\"Reintentar\"  \n            onRetry={loadFeed}  \n          />  \n        ) : (  \n          <FlatList  \n            data={posts}  \n            keyExtractor={(item) => item.id.toString()}  \n            renderItem={renderPost}  \n            showsVerticalScrollIndicator={false}  \n            contentContainerStyle={styles.feedContent}  \n            refreshing={loading}  \n            onRefresh={loadFeed}  \n          />  \n        )}  \n      </View>  \n  \n      {/* NAVBAR INFERIOR - Orden correcto con iconos profesionales */}  \n      <View style={styles.bottomNavigation}>  \n        <TouchableOpacity  \n          style={styles.navItem}  \n          onPress={() => handleNavigation(\"HomeFeed\")}  \n        >  \n          <Home size={24} color={currentRoute === \"HomeFeed\" ? \"#2673f3\" : \"#999\"} />  \n        </TouchableOpacity>  \n  \n        <TouchableOpacity  \n          style={styles.navItem}  \n          onPress={() => handleNavigation(\"MarketInfo\")}  \n        >  \n          <TrendingUp size={24} color={currentRoute === \"MarketInfo\" ? \"#2673f3\" : \"#999\"} />  \n        </TouchableOpacity>  \n  \n        <TouchableOpacity  \n          style={styles.fabContainer}  \n          onPress={() => handleNavigation(\"CreatePost\")}  \n        >  \n          <PlusCircle size={34} color=\"#2673f3\" />  \n        </TouchableOpacity>  \n  \n        <TouchableOpacity  \n          style={styles.navItem}  \n          onPress={() => handleNavigation(\"News\")}  \n        >  \n          <Newspaper size={24} color={currentRoute === \"News\" ? \"#2673f3\" : \"#999\"} />  \n        </TouchableOpacity>  \n  \n        <TouchableOpacity  \n          style={styles.navItem}  \n          onPress={() => handleNavigation(\"Educacion\")}  \n        >  \n          <BookOpen size={24} color={currentRoute === \"Educacion\" ? \"#2673f3\" : \"#999\"} />  \n        </TouchableOpacity>  \n      </View>  \n    </SafeAreaView>  \n  )  \n}  \n  \nconst styles = StyleSheet.create({  \n  container: {   \n    flex: 1,   \n    backgroundColor: \"#f7f8fa\"   \n  },  \n  \n  // HEADER  \n  header: {  \n    flexDirection: \"row\",  \n    alignItems: \"center\",  \n    paddingHorizontal: 16,  \n    paddingVertical: 12,  \n    backgroundColor: \"white\",  \n    borderBottomWidth: 1,  \n    borderBottomColor: \"#e5e5e5\",  \n    shadowColor: \"#000\",  \n    shadowOffset: { width: 0, height: 1 },  \n    shadowOpacity: 0.05,  \n    shadowRadius: 2,  \n    elevation: 2,  \n  },  \n  headerAvatar: {   \n    width: 36,   \n    height: 36,   \n    borderRadius: 18,   \n    marginRight: 12   \n  },  \n  headerIcon: {  \n    marginHorizontal: 8,  \n    padding: 4,  \n  },  \n  langToggle: {  \n    marginLeft: 8,  \n    paddingHorizontal: 10,  \n    paddingVertical: 6,  \n    borderRadius: 16,  \n    backgroundColor: \"#f0f7ff\",  \n    borderWidth: 1,  \n    borderColor: \"#e0f0ff\",  \n  },  \n  langToggleText: {  \n    fontSize: 12,  \n    fontWeight: \"600\",  \n    color: \"#2673f3\",  \n  },  \n  \n  searchContainer: {  \n    flex: 1,  \n    flexDirection: \"row\",  \n    alignItems: \"center\",  \n    backgroundColor: \"#f5f5f5\",  \n    borderRadius: 24,  \n    paddingHorizontal: 16,  \n    paddingVertical: 10,  \n    marginHorizontal: 8,  \n  },  \n  searchContainerFocused: {  \n    backgroundColor: \"white\",  \n    borderWidth: 2,  \n    borderColor: \"#2673f3\",  \n  },  \n  searchInput: {   \n    flex: 1,   \n    marginLeft: 8,   \n    fontSize: 15,   \n    color: \"#111\"   \n  },  \n  clearButton: {   \n    paddingHorizontal: 8   \n  },  \n  \n  // QUICK ACTIONS  \n  quickActionsContainer: {  \n    backgroundColor: \"white\",  \n    paddingVertical: 8,  \n    borderBottomWidth: 1,  \n    borderBottomColor: \"#e5e5e5\",  \n  },  \n  quickActionsContent: {  \n    paddingHorizontal: 16,  \n  },  \n  quickChip: {  \n    flexDirection: \"row\",  \n    alignItems: \"center\",  \n    backgroundColor: \"#ffffff\",  \n    borderRadius: 32,  \n    paddingHorizontal: 20,  \n    paddingVertical: 8,  \n    marginRight: 12,  \n    borderWidth: 1,  \n    borderColor: \"#e8e8e8\",  \n    shadowColor: \"#000\",  \n    shadowOffset: { width: 0, height: 2 },  \n    shadowOpacity: 0.08,  \n    shadowRadius: 4,  \n    elevation: 3,  \n  },  \n  quickChipIconContainer: {  \n    width: 28,  \n    height: 24,  \n    borderRadius: 14,  \n    justifyContent: \"center\",  \n    alignItems: \"center\",  \n    marginRight: 10,  \n  },  \n  quickChipLabel: {   \n    fontSize: 13,   \n    color: \"#333\",  \n    fontWeight: \"500\",  \n  },  \n  \n  // WRITE POST  \n  writePostContainer: {  \n    flexDirection: \"row\",  \n    alignItems: \"center\",  \n    backgroundColor: \"white\",  \n    paddingHorizontal: 16,  \n    paddingVertical: 12,  \n    borderBottomWidth: 8,  \n    borderBottomColor: \"#f0f0f0\",  \n  },  \n  writeAvatar: {   \n    width: 36,   \n    height: 36,   \n    borderRadius: 18,   \n    marginRight: 12   \n  },  \n  writeBox: {  \n    flex: 1,  \n    flexDirection: \"row\",  \n    alignItems: \"center\",  \n    backgroundColor: \"#ffffff\",  \n    borderRadius: 24,  \n    paddingHorizontal: 16,  \n    paddingVertical: 12,  \n    borderWidth: 1,  \n    borderColor: \"#e0e0e0\",  \n  },  \n  writeIcon: {  \n    marginRight: 8,  \n  },  \n  writePlaceholder: {   \n    color: \"#777\",   \n    fontSize: 15,  \n    flex: 1,  \n  },  \n  \n  // FEED  \n  feedContainer: {  \n    flex: 1,  \n  },  \n  feedContent: {  \n    paddingVertical: 8,  \n  },  \n  \n  // POSTS  \n  postCard: {  \n    backgroundColor: \"white\",  \n    marginHorizontal: 16,  \n    marginVertical: 6,  \n    borderRadius: 12,  \n    padding: 16,  \n    shadowColor: \"#000\",  \n    shadowOffset: { width: 0, height: 2 },  \n    shadowOpacity: 0.08,  \n    shadowRadius: 4,  \n    elevation: 3,  \n  },  \n  postHeader: {   \n    flexDirection: \"row\",   \n    alignItems: \"center\",   \n    marginBottom: 12   \n  },  \n  avatar: {   \n    width: 44,   \n    height: 44,   \n    borderRadius: 22,   \n    marginRight: 12   \n  },  \n  postUser: {   \n    fontWeight: \"bold\",   \n    fontSize: 16,   \n    color: \"#111\",  \n    marginBottom: 2,  \n  },  \n  postRole: {   \n    fontSize: 13,   \n    color: \"#666\"   \n  },  \n  // BOTÓN SEGUIR - Texto azul plano sin fondo  \n  followText: {  \n    color: \"#2673f3\",  \n    fontSize: 14,  \n    fontWeight: \"500\",  \n  },  \n  postContent: {   \n    fontSize: 15,   \n    color: \"#111\",   \n    marginBottom: 12,  \n    lineHeight: 22,  \n  },  \n  postImage: {   \n    width: \"100%\",   \n    height: 200,   \n    borderRadius: 12,   \n    marginBottom: 12   \n  },  \n  postStats: {   \n    flexDirection: \"row\",   \n    justifyContent: \"space-between\",   \n    marginBottom: 12,  \n    paddingHorizontal: 4,  \n  },  \n  statText: {   \n    fontSize: 13,   \n    color: \"#666\",  \n    fontWeight: \"500\",  \n  },  \n  // ACTIONS - 4 iconos alineados con mismo ancho  \n  postActions: {  \n    flexDirection: \"row\",  \n    justifyContent: \"space-between\",  \n    borderTopWidth: 1,  \n    borderTopColor: \"#f0f0f0\",  \n    paddingTop: 12,  \n    marginTop: 8,  \n  },  \n  actionBtn: {   \n    flexDirection: \"row\",  \n    alignItems: \"center\",  \n    paddingVertical: 8,  \n    paddingHorizontal: 4,  \n    borderRadius: 8,  \n    flex: 1,  \n    justifyContent: \"center\",  \n  },  \n  actionBtnLiked: {  \n    backgroundColor: \"#f0f7ff\",  \n  },  \n  actionText: {   \n    fontSize: 11,   \n    color: \"#666\",  \n    fontWeight: \"500\",  \n    marginLeft: 4,  \n  },  \n  actionTextLiked: {  \n    color: \"#2673f3\",  \n    fontWeight: \"600\",  \n  },  \n  \n  // BOTTOM NAV - Iconos outline con colores correctos  \n  bottomNavigation: {  \n    flexDirection: \"row\",  \n    justifyContent: \"space-around\",  \n    alignItems: \"center\",  \n    height: 70,  \n    backgroundColor: \"white\",  \n    borderTopWidth: 1,  \n    borderTopColor: \"#e5e5e5\",  \n    paddingBottom: 20,  \n    paddingTop: 8,  \n    shadowColor: \"#000\",  \n    shadowOffset: { width: 0, height: -2 },  \n    shadowOpacity: 0.1,  \n    shadowRadius: 4,  \n    elevation: 5,  \n  },  \n  navItem: {  \n    alignItems: \"center\",  \n    justifyContent: \"center\",  \n    flex: 1,  \n  },  \n  fabContainer: {  \n    alignItems: \"center\",  \n    justifyContent: \"center\",  \n    flex: 1,  \n  },  \n  \n  loadingContainer: {   \n    flex: 1,   \n    justifyContent: \"center\",   \n    alignItems: \"center\",  \n    paddingVertical: 40,  \n  },  \n})"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}